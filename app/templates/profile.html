{% extends "base.html" %}
{% block content %}

<div class="row profile d-flex justify-content-center h-100">
    <div class="col-12 col-md-9 col-lg-7 col-xl-10" style="padding-top: 20px;">
        <center>
            <h1>Welcome {{ name }} !</h1>
            <div class="col-12 col-md-9 col-lg-7 col-xl-3" style="padding-top: 20px;">
                <!-- The filter buttons -->
                {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <div class="notification is-danger">
                                    {{ messages[0] }}
                                </div>
                            {% endif %}
                            {% endwith %}
                <a class="btn btn-primary btn-pink" data-toggle="collapse" href="#collapse" role="button" aria-expanded="false" aria-controls="collapseExample">
                    Edit Account
                </a>

                <div class="collapse" id="collapse" style="padding-top: 10px;">
                    <div class="card card-body">
                        <form action="" method="post" name="passChange" class="ChangePassForm">
                            <div class="form-outline mb-4">
                                {{ form.oldpassword.label }}
                                {{ form.oldpassword }}
                            </div>
                            <div class="form-outline mb-4">
                                {{ form.password.label }}
                                {{ form.password }}
                            </div>
                            <div class="d-flex justify-content-center">
                                <input type="submit" value="Change Password" class="btn btn-pink btn-block btn-lg gradient-custom-4 text-body">
                            </div>
                      </form>
                    </div>
                </div>
            </div>
            <h2>Your Collection:</h2>
        </center>
    </div>
    
    <div class="col-12 col-md-9 col-lg-7 col-xl-10" style="padding-top: 20px;">
        <div class="card gameResult-box" style="border-radius: 15px;">
            <!-- The head of the table -->
            <table class="Hresults">
                <tr>
                    <th class="gameNum">Rank</th>
                    <th class="line"></th>
                    <th class="Himg">Image</th>
                    <th class="line"></th>
                    <th class="Htitle">Name</th>
                    <th class="line"></th>
                    <th class="Hplayers">Min/Max Players</th>
                    <th class="line"></th>
                    <th class="playTime">Avg Time</th>
                    <th class="line"></th>
                    <th class="playTime">Year</th>
                    <th class="line"></th>
                    <th class="rating">Avg Rating</th>
                    <th class="line"></th>
                    <th class="minAge">Min Age</th>
                    <th class="line"></th>
                    <th style="width: auto;">Categories</th>
                    <th class="line"></th>
                    <th class="HaddBtn">Remove from Collection</td>
                </tr>
            </table>
        </div>
    </div>
    {% for game in data %}
    <div class="col-12 col-md-9 col-lg-7 col-xl-10" style="padding-top: 20px;">
        <div class="card gameResult-box" style="border-radius: 15px;">
            <table class="results">
                <tr>
                    <td class="gameNum">{{ game.id }}</td>
                    <td class="line"></td>
                    <td class="img"><img src={{ game.imageURL }} alt={{ game.title }}></td>
                    <td class="line"></td>
                    <td class="title">{{ game.title }}</td>
                    <td class="line"></td>
                    <td class="players">{{ game.minPlayers }}</td>
                    <td class="line"></td>
                    <td class="players">{{ game.maxPlayers }}</td>
                    <td class="line"></td>
                    <td class="playTime">{{ game.playTime }}</td>
                    <td class="line"></td>
                    <td class="playTime">{{ game.releaseYear }}</td>
                    <td class="line"></td>
                    <td class="rating">{{ game.rating }}</td>
                    <td class="line"></td>
                    <td class="minAge">{{ game.minAge }}</td>
                    <td class="line"></td>
                    <td class="">{{ game.category }}</td>
                    <td class="addBtn">
                        <form action="/profile/remove/{{ game.id }}" method="post">
                            <button type="submit" name="gameAdd" class="btn btn-orange gradient-custom-4">-</button>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    {% endfor %} 
</div>
<br>
<footer class="bg-pink profileFooter">
    <h3>Created by Linton Fogden: </h3>
    <h4><a href="https://www.linkedin.com/in/linton-fogden-9b9730252/" style="padding-left: 10px;">Linkedin</a></h4>
<footer>
{% endblock %}

